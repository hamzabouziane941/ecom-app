<p-toast></p-toast>

<h1 class="text-center mb-4">Contactez-nous</h1>

<form #form="ngForm" (ngSubmit)="onSubmit()" class="max-w-2xl mx-auto p-4">
  <div class="mb-6">
    <label for="email" class="block mb-2 font-medium">Email</label>
    <input 
      pInputText
      type="email"
      id="email"
      name="email"
      [(ngModel)]="email"
      required
      email
      #emailInput="ngModel"
      class="w-full p-2 border border-gray-300 rounded"
      [disabled]="isSubmitting"
    >
    <small class="block mt-1 text-red-500" *ngIf="shouldShowValidation(emailInput)">
      Veuillez entrer une adresse email valide
    </small>
  </div>

  <div class="mb-6">
    <label for="message" class="block mb-2 font-medium">Message</label>
    <textarea 
      pInputTextarea
      id="message"
      name="message"
      rows="5"
      cols="30"
      [(ngModel)]="message"
      required
      maxlength="300"
      #messageInput="ngModel"
      class="w-full p-2 border border-gray-300 rounded"
      [disabled]="isSubmitting"
    ></textarea>
    <small class="block mt-1 text-gray-500">
      {{ message.length }}/300 caractÃ¨res
    </small>
    <small class="block mt-1 text-red-500" *ngIf="shouldShowValidation(messageInput)">
      Le message est requis et doit faire moins de 300 caractÃ¨res
    </small>
  </div>

  <div class="flex justify-end">
    <p-button 
      type="submit" 
      [disabled]="!form.valid || message.length > 300 || isSubmitting" 
      label="Envoyer" 
      severity="success"
      [loading]="isSubmitting"
    />
  </div>
</form> 